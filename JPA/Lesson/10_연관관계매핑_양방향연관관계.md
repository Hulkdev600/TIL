# 양방향 연관관계

단방향 연관관계가 직원이 회사조직의 정보를 가지고 있음으로써 회사정보를 가지고 있는 한편,
양방향 연관관계는 위 직원 -> 회사 방향에서(직원 Many To 회사 One) 방향에서 
회사 -> 직원의 방향까지 같이 가지고 있는 연관관계이다.
양쪽에서 서로 관계되어지므로 양방향 연관관계이다.( 직원 <-> 회사 )

## DB에서 양방향 연관관계란?
사실 DB에서느 한쪽에서 외래키를 가지고 있는 상태라면 JOIN을 걸어주어 어느 방향에서든 값을 찾는것이 가능하다.
그렇지만 JAVA는 JOIN을 걸어서 회사로부터 직원들의 정보를 얻을 수 있는 구조가 아니다.
객체지향적으로 볼 떄 회사의 정보에는 회사에 소속된 직원 정보도 알 수 있어야한다!.

그러므로 DB의 JOIN을 자바객체지향적 관점으로 돌리기 위해서 양방향 연관관계를 만들어 낼 수 있는 어노테이션이 필요하다. 그것이 바로 OneToMany이다.

## @OneToMany
OneToMany는 말 그대로 'One회사 To-> Many직원' 으로 직원들의 정보 컬렉션을 가질 수 있또록 도와준다.

## OneToMany의 속성 mappedBy
양방향 연관관계를 사용한다면, 

mappedBy는 객체의 연관관계를 관리하는 포인트를 결정하는 의미를 가지고 있다.
테이블은 외래키 하나로 두 테이블의 연관관계를 정리한다.
그러나 자바소스에서는 객체에서 서로 연관되어있는 객체가 다른 참조값을 가지고 있을 것이다.
DB테이블 구조에서 한쪽에서 외래키를 가지고 있는 것처럼 자바의 **객체 타입에서도 연관관계의 주인을 정해주어야한다.**

- 주인이 될 정보에는 mappedBy __사용X__
- 주인이 아닌 것에 mappedBy 속성으로 주인을 지정(매핑되어진다, 주인에 의해 컨트롤되어진다.)
- **연관관계의 주인만이 외래 키를 관리(등록, 수정)**
- **주인이 아닌 쪽은 읽기만 가능하다.**

### 양방향 연관관계에서 주인을 정하는 팁
- 외래키가 있는 테이블에 해당하는 객체쪽을 주인으로 정하라.