

# 플러시
- 영속성 컨텍스트의 **변경 내용을 데이터베이스**에 반영

## 플러시 발생
- 변경 감지(dirty checking)
- 수정된 엔티티 쓰기지연 SQL 저장소에 등록
- 쓰기 지연 SQL 저장소의 쿼리를 데이터베이스에 전송(등록,수정, 삭제쿼리)

## 영속성 컨텍스트를 플러시하는 방법
- em.flush() : 직접호출
- 트랜잭션 커밋 : 플러시 자동호출
- JPQL 쿼리 실행 : 플러시 자동 호출


## 플러시 모드 옵션
- FlushModeType.AUTO
    - 커밋이나 쿼리를 실행할 떄 플러시(기본값)
- FlushModeType.COMMIT
    - 커밋할떄만 플러시

## 정리
- 영속성 컨텍스트를 비우지 않는다.
- 영속성 컨텍스트의 변경내용을 데이터베이스에 동기화
- 트랜잭션이라는 작업단위가 중요 -> 커밋 직전에만 동기화하면 된다